{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Parameters": {
        "BucketName": {
            "Description": "BucketName",
            "Type": "String",
	    "Default": "agilent-aws-tst-26-kakao-eservice",
            "ConstraintDescription": "BucketName."
        },
        "PolicyDocumentResource": {
            "Description": "PolicyDocumentResource",
            "Type": "String",
	    "Default": "arn:aws:s3:::agilent-aws-tst-26-kakao-eservice/web/*",
            "ConstraintDescription": "PolicyDocumentResource."
        }
    },

  "Resources": {
     "S3Bucket" : {
        "Type" : "AWS::S3::Bucket",
	"DeletionPolicy": "Retain",
        "Properties" : {
           "BucketName" : {"Ref": "BucketName"},
	   "PublicAccessBlockConfiguration" : {
	       "BlockPublicAcls" : true,
               "BlockPublicPolicy" : false,
               "IgnorePublicAcls" : true,
               "RestrictPublicBuckets" : false
	   }
         }  
     },
     "S3BucketPolicy" : {
        "Type" : "AWS::S3::BucketPolicy",
        "Properties" : {
          "Bucket" : {"Ref" : "S3Bucket"},
          "PolicyDocument": {
            "Statement":[{
	      "Action":["s3:GetObject"],
	      "Effect":"Allow",
	      "Resource": {"Ref" : "PolicyDocumentResource"},
	      "Principal":"*"
          }]
        }
      }
    }  
  },
  "Description": ""
}